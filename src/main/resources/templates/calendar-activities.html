<!DOCTYPE html>
<html lang="en"
	  xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
	  xmlns:th="http://www.thymeleaf.org"
>
<head>
	<title>Calendar of Activities</title>
	<th:block th:insert="~{fragments/fragments::meta_script_link}" />
	<link rel="stylesheet" th:href="@{/css/activities-calendar/calendar.css}">
	<script defer th:src="@{/js/activities-calendar/activitiesCalendar.js}" type="text/javascript"></script>
</head>

<div th:insert="~{fragments/fragments::platformNav}">My navbar</div>

<body class="gradient-custom-5">
<h2 class="text-center">Calendar of Activities</h2>
<div class="container py-5">
	<div class="row">
		<div class="col-md-12">
			<div class="d-flex justify-content-between mb-3">
				<div class="d-flex gap-3">
					<div class="btn-group">
						<button type="button" class="btn btn-outline-primary dropdown-toggle" data-bs-toggle="dropdown">
							Sort by
						</button>
						<ul class="dropdown-menu">
							<li><a class="dropdown-item" id="sort-by-start-date" href="#">Start date</a></li>
							<li><a class="dropdown-item" id="sort-by-title" href="#">Title</a></li>
							<li><a class="dropdown-item" id="sort-by-municipality" href="#">Municipality</a></li>
						</ul>
					</div>

					<div class="btn-group">
						<button type="button" class="btn btn-outline-primary dropdown-toggle" data-bs-toggle="dropdown">
							Filter by municipality
						</button>
						<ul class="dropdown-menu">
							<li th:each="municipality : ${municipalities}">
								<a class="dropdown-item" href="#" th:text="${municipality.name}"></a>
							</li>
						</ul>
					</div>
				</div>

				<div class="d-flex gap-3"
					 th:if="${currentMembership != null && currentMembership.role == T(be.kdg.finalproject.domain.security.Role).YOUTH_COUNCIL_ADMINISTRATOR}"
				>
					<button type="button" class="btn btn-outline-primary">Edit</button>
					<button type="button" class="btn btn-outline-primary">Add</button>
					<button type="button" class="btn btn-outline-danger">Delete</button>
				</div>
			</div>
			<div id="content">
				<ul class="timeline-1 text-black">
					<li class="event" th:each="activity : ${activities}">
						<h4 class="mb-3" th:text="${activity.title}">Event Title</h4>
						<p class="time">
										<span th:text="${#temporals.format(activity.startTime, 'dd/MM/yyyy')}"
											  th:remove="tag"
										></span>
							<br />
							<span th:text="${#temporals.format(activity.startTime, 'HH:mm')}" th:remove="tag"></span> -
							<span th:text="${#temporals.format(activity.endTime, 'HH:mm')}" th:remove="tag"></span>
						</p>
						<p th:text="${activity.description}">Event Description</p>
						<p>Municipality: <span th:text="${activity.municipality.name}"></span></p>
					</li>
				</ul>
			</div>
		</div>
	</div>
</div>
<div th:insert="~{fragments/fragments::footer}">Footer</div>
</body>
</html>
